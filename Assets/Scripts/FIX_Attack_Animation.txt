═══════════════════════════════════════════════════════════════
    🔧 ИСПРАВЛЕНИЕ: ATTACK НЕ РАБОТАЕТ
═══════════════════════════════════════════════════════════════

Idle и Move работают → Animator настроен!
Attack не работает → проблема в переходах!

═══════════════════════════════════════════════════════════════
🔍 ПРОВЕРКА 1: ЕСТЬ ЛИ ПАРАМЕТР ATTACK?
═══════════════════════════════════════════════════════════════

Откройте Character.controller (двойной клик)

Окно Animator → вкладка Parameters (слева):

┌─────────────────────────────────────┐
│ Parameters                          │
├─────────────────────────────────────┤
│ Idle    (Trigger) ✓                │
│ Move    (Trigger) ✓                │
│ Attack  (Trigger) ← ЕСТЬ?          │
│ Death   (Trigger)                  │
└─────────────────────────────────────┘

Если НЕТ Attack:
  1. Нажмите "+"
  2. Выберите "Trigger"
  3. Назовите "Attack"

═══════════════════════════════════════════════════════════════
🔍 ПРОВЕРКА 2: ЕСТЬ ЛИ STATE ATTACK?
═══════════════════════════════════════════════════════════════

В Animator окне должны быть состояния:

┌──────────────────────────────────────────┐
│  [Idle]  [Move]  [Attack]  [Death]      │
└──────────────────────────────────────────┘

Если НЕТ Attack:
  1. ПКМ → Create State → Empty
  2. Назовите "Attack"
  3. Выберите Attack state
  4. Inspector → Motion: AttackCharacter

═══════════════════════════════════════════════════════════════
🔍 ПРОВЕРКА 3: ЕСТЬ ЛИ ПЕРЕХОДЫ К ATTACK?
═══════════════════════════════════════════════════════════════

Должны быть стрелки:

  [Idle] ──→ [Attack]
  [Move] ──→ [Attack]
  [Attack] ──→ [Idle]

Если НЕТ:

1. ПКМ на Idle → Make Transition → кликните на Attack
2. Выберите этот переход (стрелка)
3. Inspector:
   ┌────────────────────────────────────┐
   │ Has Exit Time: ☐  ← ВЫКЛЮЧИТЬ!   │
   │ Transition Duration: 0             │
   │ Conditions:                        │
   │   + Attack ← ДОБАВИТЬ!            │
   └────────────────────────────────────┘

4. ПКМ на Move → Make Transition → Attack
   (такие же настройки)

5. ПКМ на Attack → Make Transition → Idle
   Inspector:
   ┌────────────────────────────────────┐
   │ Has Exit Time: ✓  ← ВКЛЮЧИТЬ!    │
   │ Exit Time: 0.9                     │
   │ Transition Duration: 0.1           │
   │ Conditions: (пусто)                │
   └────────────────────────────────────┘

═══════════════════════════════════════════════════════════════
🔍 ПРОВЕРКА 4: ПЕРЕХОД IDLE → ATTACK НАСТРОЕН ПРАВИЛЬНО?
═══════════════════════════════════════════════════════════════

Выберите стрелку Idle → Attack

Inspector должен быть:

┌─────────────────────────────────────────────────────────────┐
│ Idle → Attack                                               │
├─────────────────────────────────────────────────────────────┤
│ Has Exit Time: ☐  ← КРИТИЧНО! ДОЛЖНО БЫТЬ ВЫКЛЮЧЕНО!     │
│ Settings:                                                   │
│   Exit Time: 0.75 (не важно если Has Exit Time выкл)       │
│   Fixed Duration: ☐                                         │
│   Transition Duration (s): 0                                │
│   Transition Offset: 0                                      │
│   Interruption Source: None                                 │
│                                                             │
│ Conditions:                                                 │
│   Attack ⭐ ← ДОЛЖЕН БЫТЬ!                                 │
│   (если пусто - нажмите + и выберите Attack)              │
└─────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════
🧪 ДОБАВИТЬ ОТЛАДКУ В КОД
═══════════════════════════════════════════════════════════════

Чтобы увидеть ВЫЗЫВАЕТСЯ ЛИ PlayAttack():

Включите Show Debug:
  Character → Character Animator → Show Debug: ✓

Запустите игру и смотрите Console!

Должно быть:
  "Warrior: Attack анимация"  ← Если ЕСТЬ, PlayAttack вызывается!

Если лог ЕСТЬ, но анимация не играет:
  → Проблема в Animator Controller (переходы)

Если лога НЕТ:
  → Character Animator не назначен в CharacterController

═══════════════════════════════════════════════════════════════
🔧 БЫСТРОЕ РЕШЕНИЕ: ПРОВЕРЬТЕ ВСЁ СРАЗУ
═══════════════════════════════════════════════════════════════

Character.controller → Animator окно:

1. Parameters → Attack (Trigger) ✓

2. States → Attack:
   - Motion: AttackCharacter ✓

3. Idle → Attack:
   - Has Exit Time: ☐ ⭐
   - Conditions: Attack ✓

4. Attack → Idle:
   - Has Exit Time: ✓ ⭐
   - Exit Time: 0.9
   - Conditions: (пусто)

Сохранить: Ctrl+S

Тест: Play → Атака должна заработать! ⚔️

═══════════════════════════════════════════════════════════════
📊 ДИАГНОСТИКА
═══════════════════════════════════════════════════════════════

В Play режиме:
1. Выберите персонажа в Hierarchy
2. Animator → Parameters (в Inspector в Play режиме):
   
   Вы увидите значения параметров в реальном времени!
   
   При атаке Attack должен загореться на мгновение.

═══════════════════════════════════════════════════════════════
💡 ТИПИЧНАЯ ОШИБКА
═══════════════════════════════════════════════════════════════

Idle → Attack переход с Has Exit Time: ✓ НЕ СРАБОТАЕТ!

Почему: Idle анимация зациклена, Exit Time никогда не наступит!

РЕШЕНИЕ: Has Exit Time: ☐ + Conditions: Attack

═══════════════════════════════════════════════════════════════

