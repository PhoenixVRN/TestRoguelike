═══════════════════════════════════════════════════════════════
    🎬 НАСТРОЙКА ANIMATOR С BOOL ПАРАМЕТРАМИ
═══════════════════════════════════════════════════════════════

НОВАЯ СИСТЕМА: Bool вместо Trigger!
Теперь анимации управляются через булевые флаги.

═══════════════════════════════════════════════════════════════
📋 ШАГ 1: ОТКРЫТЬ ANIMATOR CONTROLLER
═══════════════════════════════════════════════════════════════

Assets/Animation/Character.controller → двойной клик

Откроется окно Animator

═══════════════════════════════════════════════════════════════
📋 ШАГ 2: СОЗДАТЬ НОВЫЕ ПАРАМЕТРЫ
═══════════════════════════════════════════════════════════════

Parameters (слева вверху):

УДАЛИТЕ СТАРЫЕ (если есть):
  ✗ Idle (Trigger) - удалить
  ✗ Move (Trigger) - удалить  
  ✗ Attack (Trigger) - удалить
  ✗ Death (Trigger) - удалить

СОЗДАЙТЕ НОВЫЕ:

1. Нажмите "+" → Bool
   Назовите: IsMoving

2. Нажмите "+" → Bool
   Назовите: IsAttacking

3. Нажмите "+" → Bool
   Назовите: IsDead

Итого должно быть:
┌─────────────────────────────────────┐
│ Parameters                          │
├─────────────────────────────────────┤
│ IsMoving     (Bool) ☐              │
│ IsAttacking  (Bool) ☐              │
│ IsDead       (Bool) ☐              │
└─────────────────────────────────────┘

═══════════════════════════════════════════════════════════════
📋 ШАГ 3: СОЗДАТЬ/ПРОВЕРИТЬ STATES
═══════════════════════════════════════════════════════════════

Должны быть состояния:

1. Idle (оранжевый - default)
   Motion: IdleCharacter

2. Move
   Motion: MoveCharacter

3. Attack
   Motion: AttackCharacter
   Loop Time: ✓ ← ВАЖНО! Зациклена!

4. Death
   Motion: DeathCharacter
   Loop Time: ☐ ← НЕ зациклена!

═══════════════════════════════════════════════════════════════
📋 ШАГ 4: СОЗДАТЬ ПЕРЕХОДЫ (TRANSITIONS)
═══════════════════════════════════════════════════════════════

УДАЛИТЕ ВСЕ СТАРЫЕ СТРЕЛКИ!

Создайте новые:

A. Idle → Move
   ПКМ на Idle → Make Transition → Move
   Настройки:
   ┌────────────────────────────────────┐
   │ Has Exit Time: ☐                  │
   │ Transition Duration: 0.1           │
   │ Conditions:                        │
   │   + IsMoving  true ⭐             │
   └────────────────────────────────────┘

B. Move → Idle
   ПКМ на Move → Make Transition → Idle
   Настройки:
   ┌────────────────────────────────────┐
   │ Has Exit Time: ☐                  │
   │ Transition Duration: 0.1           │
   │ Conditions:                        │
   │   + IsMoving  false ⭐            │
   └────────────────────────────────────┘

C. Idle → Attack
   ПКМ на Idle → Make Transition → Attack
   Настройки:
   ┌────────────────────────────────────┐
   │ Has Exit Time: ☐                  │
   │ Transition Duration: 0.1           │
   │ Conditions:                        │
   │   + IsAttacking  true ⭐          │
   └────────────────────────────────────┘

D. Move → Attack
   ПКМ на Move → Make Transition → Attack
   Настройки:
   ┌────────────────────────────────────┐
   │ Has Exit Time: ☐                  │
   │ Transition Duration: 0.1           │
   │ Conditions:                        │
   │   + IsAttacking  true ⭐          │
   └────────────────────────────────────┘

E. Attack → Idle
   ПКМ на Attack → Make Transition → Idle
   Настройки:
   ┌────────────────────────────────────┐
   │ Has Exit Time: ☐                  │
   │ Transition Duration: 0.1           │
   │ Conditions:                        │
   │   + IsAttacking  false ⭐         │
   └────────────────────────────────────┘

F. Idle → Death
   ПКМ на Idle → Make Transition → Death
   Настройки:
   ┌────────────────────────────────────┐
   │ Has Exit Time: ☐                  │
   │ Transition Duration: 0             │
   │ Conditions:                        │
   │   + IsDead  true ⭐               │
   └────────────────────────────────────┘

G. Move → Death
   ПКМ на Move → Make Transition → Death
   (такие же настройки как Idle → Death)

H. Attack → Death
   ПКМ на Attack → Make Transition → Death
   (такие же настройки)

═══════════════════════════════════════════════════════════════
📊 ИТОГОВАЯ СХЕМА
═══════════════════════════════════════════════════════════════

          IsMoving=true
    [Idle] ⟷ [Move]
      ↓          ↓
      ↓          ↓ IsAttacking=true
      ↓        ↙
    [Attack] (Loop Time: ✓)
      ↓ IsAttacking=false
      ↓
    [Idle]
    
    Все → [Death] (IsDead=true)
    
Death - финальное состояние, никаких выходов!

═══════════════════════════════════════════════════════════════
💾 ШАГ 5: СОХРАНИТЬ
═══════════════════════════════════════════════════════════════

Ctrl+S (сохранить Animator Controller)

═══════════════════════════════════════════════════════════════
✅ КАК ЭТО РАБОТАЕТ
═══════════════════════════════════════════════════════════════

Idle:
  IsMoving = false, IsAttacking = false
  → Играет Idle анимация

Move:
  IsMoving = true
  → Переход Idle → Move
  → Играет Move анимация

Attack:
  IsAttacking = true
  → Переход Idle/Move → Attack
  → Играет Attack (зациклена!)
  → Персонаж бьёт-бьёт-бьёт пока IsAttacking = true

Death:
  IsDead = true
  → Переход из любого состояния → Death
  → Играет Death (1 раз, не зациклена)
  → ОСТАНАВЛИВАЕТСЯ ✅

═══════════════════════════════════════════════════════════════
🧪 ТЕСТ
═══════════════════════════════════════════════════════════════

1. Настройте Parameters и Transitions
2. Ctrl+S
3. Play
4. START
5. Персонажи атакуют постоянно! ⚔️⚔️⚔️
6. При смерти → анимация Death → СТОП ✅

═══════════════════════════════════════════════════════════════
🐛 ЕСЛИ ЧТО-ТО НЕ ТАК
═══════════════════════════════════════════════════════════════

ПРОБЛЕМА: Анимация не переключается
РЕШЕНИЕ: Проверьте Has Exit Time: ☐ у ВСЕХ переходов!

ПРОБЛЕМА: Персонаж застрял в Idle
РЕШЕНИЕ: Проверьте условия переходов (Conditions)

ПРОБЛЕМА: Смерть зациклена
РЕШЕНИЕ: DeathCharacter.anim → Loop Time: ☐

═══════════════════════════════════════════════════════════════
✅ ГОТОВО!
═══════════════════════════════════════════════════════════════

Теперь анимации управляются через Bool:
  ✓ Более предсказуемо
  ✓ Легче контролировать
  ✓ Смерть останавливает всё ✅

═══════════════════════════════════════════════════════════════

