═══════════════════════════════════════════════════════════════
    СИСТЕМА С ПУСТЫШКАМИ-МАРКЕРАМИ - Быстрый старт
═══════════════════════════════════════════════════════════════

✨ ПРЕИМУЩЕСТВА ЭТОГО ПОДХОДА:
────────────────────────────────────────────────────────────────
✅ Не нужно вычислять координаты - размещаете пустышки вручную
✅ Видите сетку сразу в редакторе
✅ Можно настроить любую форму сетки (не только ромбы)
✅ Легко добавлять/удалять отдельные ячейки
✅ Простая и понятная система

═══════════════════════════════════════════════════════════════

📋 ВАРИАНТ 1: АВТОМАТИЧЕСКОЕ СОЗДАНИЕ (РЕКОМЕНДУЕТСЯ)
────────────────────────────────────────────────────────────────

Шаг 1: Подготовка Canvas
   1. Hierarchy → ПКМ → UI → Canvas
   2. Canvas → Canvas Scaler:
      - UI Scale Mode: Scale With Screen Size
      - Reference Resolution: 1920 x 1080

Шаг 2: Создание контейнера для сетки
   1. Canvas → ПКМ → UI → Image
   2. Переименуйте в "Grid"
   3. Source Image: перетащите "grid" из Assets/Art
   4. Настройте размер под вашу сетку

Шаг 3: Автоматическое создание ячеек
   1. Меню Unity → Tools → Grid Cell Creator
   2. В окне инструмента:
      - Grid Container: перетащите объект "Grid"
      - Изометрическая сетка: ✓
      - Ширина сетки: 10 (количество ячеек)
      - Высота сетки: 10 (количество ячеек)
      - Ширина ромба: 64 px (измерьте на grid.png)
      - Высота ромба: 32 px (измерьте на grid.png)
      - Смещение X: 0
      - Смещение Y: 0
      - Цвет маркеров: зеленый полупрозрачный
      - Размер маркеров: 20
   3. Нажмите "Создать сетку"
   4. Готово! Ячейки созданы автоматически!

Шаг 4: Создание префаба
   1. Canvas → ПКМ → UI → Image
   2. Переименуйте в "Tile"
   3. Настройте вид (картинка, размер, цвет)
   4. Перетащите в Assets/Prefabs
   5. Удалите из Hierarchy

Шаг 5: Настройка GridManager
   1. Выберите объект "Grid"
   2. Inspector → Grid Manager:
      - Prefab To Place: перетащите префаб "Tile"
      - Check Occupancy: ✓
      - Right Click To Remove: ✓
      - Show Cell Markers: снимите галочку (в игре не нужны)
      - Show Debug: ✓ (для отладки)

Шаг 6: Тестирование
   1. Нажмите Play ▶️
   2. Кликайте ЛКМ по сетке - префабы появляются!
   3. Кликайте ПКМ - префабы удаляются!
   4. Нажмите M - показать/скрыть маркеры

═══════════════════════════════════════════════════════════════

📋 ВАРИАНТ 2: РУЧНОЕ РАЗМЕЩЕНИЕ ЯЧЕЕК
────────────────────────────────────────────────────────────────

Если нужна нестандартная форма сетки или особое расположение:

Шаг 1-2: Те же что и выше

Шаг 3: Ручное создание ячеек
   1. Grid → ПКМ → Create Empty
   2. Переименуйте в "Cell_0_0"
   3. Add Component → Rect Transform
      - Anchors: Center-Center
      - Width: 20, Height: 20
      - Position: разместите в центре ромба вручную
   4. Add Component → Image
      - Color: зеленый полупрозрачный
   5. Add Component → Grid Cell
      - Grid Position: (0, 0)
   6. Дублируйте (Ctrl+D) и размещайте в других ромбах
   7. Меняйте Grid Position для каждой ячейки

Шаг 4: Добавление GridManager
   1. Выберите "Grid"
   2. Add Component → Grid Manager
   3. Настройте как в Варианте 1

═══════════════════════════════════════════════════════════════

🎮 УПРАВЛЕНИЕ
────────────────────────────────────────────────────────────────
ЛКМ - разместить префаб в ячейке
ПКМ - удалить префаб из ячейки
M - показать/скрыть маркеры ячеек
Delete - очистить всю сетку

═══════════════════════════════════════════════════════════════

💎 МНОЖЕСТВЕННЫЕ ПРЕФАБЫ
────────────────────────────────────────────────────────────────

Чтобы размещать разные префабы:

1. Grid → Inspector → Grid Manager
2. Prefabs (список):
   - Size: 3 (например)
   - Element 0: префаб 1
   - Element 1: префаб 2
   - Element 2: префаб 3
3. Show Control Hints: ✓

В игре:
   - Нажимайте 1, 2, 3 для выбора префаба
   - Или стрелки ← → для переключения
   - На экране будут подсказки

═══════════════════════════════════════════════════════════════

🔧 НАСТРОЙКА И ПОДСТРОЙКА
────────────────────────────────────────────────────────────────

Если ячейки не совпадают с центрами ромбов:

1. Tools → Grid Cell Creator
2. Измените Смещение X/Y
3. Нажмите "Очистить сетку" → "Создать сетку"
4. Повторяйте пока не совпадет идеально

Или вручную:
1. Включите Show Cell Markers в GridManager
2. Нажмите Play
3. Видите где маркеры - передвигайте их в Scene view
4. Когда устроит - выключите Show Cell Markers

═══════════════════════════════════════════════════════════════

📐 КАК ИЗМЕРИТЬ РАЗМЕРЫ РОМБА
────────────────────────────────────────────────────────────────

1. Откройте grid.png в любом редакторе
2. Измерьте:
   - Ширина ромба = расстояние ◄──────►
   - Высота ромба = расстояние ▲──▼

Стандартные значения:
   - 64 x 32 (соотношение 2:1)
   - 128 x 64
   - 100 x 50

═══════════════════════════════════════════════════════════════

❓ ПРОБЛЕМЫ И РЕШЕНИЯ
────────────────────────────────────────────────────────────────

❌ Клики не работают
   ✅ Убедитесь что у GridCell есть Image компонент
   ✅ Image → Raycast Target должен быть включен
   ✅ Проверьте EventSystem в сцене
   ✅ Проверьте GraphicRaycaster на Canvas

❌ Ячейки не видны в редакторе
   ✅ Выберите любую Cell в Hierarchy
   ✅ Scene view → Gizmos должны быть включены
   ✅ Увеличьте Size маркеров

❌ Префабы размещаются не в центре
   ✅ Проверьте что Pivot у Cell = Center (0.5, 0.5)
   ✅ Проверьте что Position префаба = (0, 0, 0) локально

❌ Хочу удалить некоторые ячейки
   ✅ Просто удалите их GameObject из Hierarchy
   ✅ GridManager автоматически учтет изменения

═══════════════════════════════════════════════════════════════

💡 СОВЕТЫ И ТРЮКИ
────────────────────────────────────────────────────────────────

✨ Используйте Grid Cell Creator - это быстро и точно

✨ Выключайте Show Cell Markers в финальной игре
   (или нажимайте M чтобы скрыть)

✨ Можно создать несколько GridManager на разных сетках
   (например: сетка для юнитов + сетка для построек)

✨ Сохраните Cell как префаб чтобы быстро добавлять новые

✨ Используйте разные цвета маркеров для разных типов ячеек
   (проходимые, непроходимые, специальные)

✨ Можно добавить разные размеры объектов (1x1, 2x2 ячейки)

═══════════════════════════════════════════════════════════════

🏗️ СТРУКТУРА ФАЙЛОВ
────────────────────────────────────────────────────────────────

Assets/Scripts/
├── GridCell.cs              - Компонент ячейки
├── GridManager.cs           - Менеджер сетки
└── Editor/
    └── GridCellCreator.cs   - Инструмент создания

═══════════════════════════════════════════════════════════════

🎯 СРАВНЕНИЕ ПОДХОДОВ
────────────────────────────────────────────────────────────────

GridPlacer/AdvancedGridPlacer:
   ✅ Не нужно создавать пустышки
   ✅ Меньше объектов в сцене
   ❌ Нужно точно настраивать параметры
   ❌ Сложнее понять математику

GridCell/GridManager:
   ✅ Видите сетку сразу
   ✅ Просто настроить вручную
   ✅ Гибкая форма сетки
   ❌ Больше объектов в Hierarchy
   ❌ Нужно создать ячейки

Выбирайте что удобнее для вас!

═══════════════════════════════════════════════════════════════

