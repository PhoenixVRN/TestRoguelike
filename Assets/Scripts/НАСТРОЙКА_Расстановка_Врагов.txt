═══════════════════════════════════════════════════════════════
    🎯 ФИНАЛЬНАЯ НАСТРОЙКА РАССТАНОВКИ ВРАГОВ
═══════════════════════════════════════════════════════════════

У вас уже созданы все необходимые компоненты! 
Осталось только правильно настроить их в Unity Inspector.

═══════════════════════════════════════════════════════════════
📋 ШАГ 1: ПРОВЕРКА КОНФИГОВ ПЕРСОНАЖЕЙ
═══════════════════════════════════════════════════════════════

1. Откройте Assets/Config/Warrior.asset
   Проверьте:
   ✓ Character Name: "Warrior"
   ✓ Max Health: 100
   ✓ Damage: 10-15
   ✓ Attack Speed: 1.0-1.5
   ✓ Attack Range: 1.5
   ✓ Move Speed: 2-3
   ✓ Team: 0 ⭐ (команда игрока)

2. Откройте Assets/Config/EnamyWarrior.asset
   Проверьте:
   ✓ Character Name: "Enemy Warrior"
   ✓ Max Health: 80-100
   ✓ Damage: 8-12
   ✓ Attack Speed: 1.0
   ✓ Attack Range: 1.5
   ✓ Move Speed: 2
   ✓ Team: 1 ⭐ (команда врагов) - ВАЖНО!

═══════════════════════════════════════════════════════════════
📋 ШАГ 2: НАСТРОЙКА ПРЕФАБА ВРАГА (Enemy/Enamy)
═══════════════════════════════════════════════════════════════

1. В Project найдите Assets/Prefabs/Enamy.prefab 
   (или Enemy.prefab если переименуете)

2. Откройте префаб (двойной клик)

3. Проверьте компоненты на префабе:
   ✓ Rect Transform
   ✓ Image (спрайт врага)
   ✓ Animator (с контроллером анимаций)
   ✓ Character Animator (скрипт)
   ✓ Character Controller (скрипт) ⭐

4. Настройте Character Controller:
   
   Config: ⭐ перетащите EnamyWarrior.asset
   
   Character Animator: ⭐ перетащите компонент 
                          Character Animator с этого же объекта
   
   Show Debug: ✓ (включите для тестирования)

5. Apply All (сохраните префаб)

═══════════════════════════════════════════════════════════════
📋 ШАГ 3: НАСТРОЙКА КОНФИГА ВОЛНЫ
═══════════════════════════════════════════════════════════════

1. Откройте Assets/Config/NewWave.asset

2. Настройте:
   
   Wave Name: "Волна 1"
   Wave Number: 1
   
3. Настройте список Enemies:
   
   Size: 3 (например, 3 врага)
   
   ┌─────────────────────────────────────────┐
   │ Element 0:                              │
   │   Enemy Prefab: Enamy ⭐                │
   │   Grid Position:                        │
   │     X: 7                                │
   │     Y: 5                                │
   │   Random Position: ☐                   │
   └─────────────────────────────────────────┘
   
   ┌─────────────────────────────────────────┐
   │ Element 1:                              │
   │   Enemy Prefab: Enamy ⭐                │
   │   Grid Position:                        │
   │     X: 8                                │
   │     Y: 3                                │
   │   Random Position: ☐                   │
   └─────────────────────────────────────────┘
   
   ┌─────────────────────────────────────────┐
   │ Element 2:                              │
   │   Enemy Prefab: Enamy ⭐                │
   │   Grid Position:                        │
   │     X: 9                                │
   │     Y: 7                                │
   │   Random Position: ☐                   │
   └─────────────────────────────────────────┘

Совет: Для случайных позиций установите Random Position: ✓

═══════════════════════════════════════════════════════════════
📋 ШАГ 4: НАСТРОЙКА WAVE SPAWNER НА СЦЕНЕ
═══════════════════════════════════════════════════════════════

1. Откройте сцену Assets/Scenes/Game.unity

2. Проверьте есть ли объект "WaveSpawner" в Hierarchy
   - Если НЕТ: создайте (Hierarchy → ПКМ → Create Empty)
   - Назовите "WaveSpawner"

3. Добавьте компонент Wave Spawner:
   - Выберите WaveSpawner в Hierarchy
   - Inspector → Add Component
   - Найдите "Wave Spawner" и добавьте

4. Настройте Wave Spawner в Inspector:

   ┌── Ссылки ─────────────────────────────┐
   │ Grid Manager: ⭐ Grid из Hierarchy    │
   └───────────────────────────────────────┘
   
   ┌── Конфиги волн ───────────────────────┐
   │ Waves:                                │
   │   Size: 1                             │
   │   Element 0: NewWave ⭐               │
   └───────────────────────────────────────┘
   
   ┌── Настройки спавна ───────────────────┐
   │ Spawn Delay: 0.2                      │
   │ Spawn On Start: ☐                     │
   │ Spawn Zone X:                         │
   │   X: 5  Y: 9  (правая часть поля)    │
   │ Spawn Zone Y:                         │
   │   X: 0  Y: 9  (вся высота)           │
   │ Show Debug: ✓                         │
   └───────────────────────────────────────┘

═══════════════════════════════════════════════════════════════
📋 ШАГ 5: ПОДКЛЮЧЕНИЕ К GAME MANAGER
═══════════════════════════════════════════════════════════════

1. Найдите GameManager в Hierarchy

2. Откройте Inspector

3. Проверьте поле Wave Spawner:
   
   Wave Spawner: ⭐ перетащите WaveSpawner из Hierarchy

4. Остальные поля должны быть:
   Grid Manager: ⭐ Grid
   Start Button: ⭐ кнопка запуска
   Object To Move: ⭐ объект который двигается

═══════════════════════════════════════════════════════════════
📋 ШАГ 6: НАСТРОЙКА ПРЕФАБА ГЕРОЯ (Character)
═══════════════════════════════════════════════════════════════

Аналогично врагу, убедитесь что префаб Character настроен:

1. Assets/Prefabs/Character.prefab

2. Character Controller:
   Config: ⭐ Warrior.asset (Team: 0)
   Character Animator: ⭐ свой компонент
   Show Debug: ✓

═══════════════════════════════════════════════════════════════
🎮 ТЕСТИРОВАНИЕ
═══════════════════════════════════════════════════════════════

**Вариант 1: Через контекстное меню (в редакторе)**

1. Запустите игру (Play)
2. Hierarchy → выберите WaveSpawner
3. Inspector → компонент Wave Spawner → ПКМ
4. Выберите "Заспавнить текущую волну"
5. Враги должны появиться на правой стороне поля!

**Вариант 2: Через кнопку Start**

1. Разместите своих героев слева (ЛКМ на ячейки)
2. Появится кнопка Start
3. Нажмите Start
4. Должны заспавниться враги
5. Начнётся бой!

═══════════════════════════════════════════════════════════════
✅ ПРОВЕРОЧНЫЙ СПИСОК
═══════════════════════════════════════════════════════════════

Перед тестом убедитесь:

□ EnamyWarrior.asset → Team: 1 (враги)
□ Warrior.asset → Team: 0 (игрок)

□ Префаб Enamy → Character Controller → Config: EnamyWarrior
□ Префаб Character → Character Controller → Config: Warrior

□ NewWave.asset → Enemies → все 3 элемента заполнены
□ NewWave.asset → Enemy Prefab: Enamy (у всех)

□ WaveSpawner → Grid Manager: назначен
□ WaveSpawner → Waves → Element 0: NewWave

□ GameManager → Wave Spawner: назначен

═══════════════════════════════════════════════════════════════
🐛 ЧАСТЫЕ ПРОБЛЕМЫ
═══════════════════════════════════════════════════════════════

Проблема: "Враги не спавнятся"
Решение: 
  - Проверьте Grid Manager назначен в WaveSpawner
  - Проверьте NewWave добавлен в список Waves
  - Проверьте координаты Grid Position существуют

Проблема: "Враги не атакуют героев"
Решение:
  - EnamyWarrior.asset → Team: 1 (должна быть другая команда!)
  - Warrior.asset → Team: 0
  - Префабы используют правильные конфиги

Проблема: "Ошибка NullReference"
Решение:
  - Character Controller → Config должен быть назначен
  - Character Controller → Character Animator назначен
  - Grid Manager назначен в WaveSpawner

Проблема: "Персонажи не двигаются"
Решение:
  - GameManager вызывает StartBattle()
  - У всех персонажей есть CharacterController
  - Show Debug: ✓ и смотрите Console для подсказок

═══════════════════════════════════════════════════════════════
💡 СОВЕТЫ ПО БАЛАНСУ
═══════════════════════════════════════════════════════════════

Лёгкая волна:
  - 2-3 врага
  - Team 1
  - HP: 50-80
  - Damage: 5-10

Средняя волна:
  - 4-5 врагов
  - HP: 80-120
  - Damage: 10-15

Сложная волна:
  - 6-8 врагов
  - HP: 100-150
  - Damage: 15-20
  - Можно добавить танков (больше HP)

═══════════════════════════════════════════════════════════════
🎯 ЧТО ДАЛЬШЕ
═══════════════════════════════════════════════════════════════

После успешного теста:

1. Создайте больше волн (Wave_2, Wave_3...)
2. Создайте разные типы врагов (Лучник, Танк, Маг)
3. Настройте разные конфиги для разнообразия
4. Добавьте случайные позиции (Random Position: ✓)
5. Создайте систему прогрессии волн

═══════════════════════════════════════════════════════════════

ВСЁ ГОТОВО! Теперь враги будут автоматически появляться! 🎯

═══════════════════════════════════════════════════════════════

