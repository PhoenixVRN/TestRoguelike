═══════════════════════════════════════════════════════════════
    🚫 СИСТЕМА ИЗБЕГАНИЯ СТОЛКНОВЕНИЙ
═══════════════════════════════════════════════════════════════

Простая система без NavMesh и A*!
Персонажи автоматически отталкиваются друг от друга.

═══════════════════════════════════════════════════════════════
📦 СОЗДАННЫЕ КОМПОНЕНТЫ
═══════════════════════════════════════════════════════════════

✅ CollisionAvoidance.cs - Компонент избегания столкновений

═══════════════════════════════════════════════════════════════
📋 ШАГ 1: ДОБАВИТЬ КОМПОНЕНТ
═══════════════════════════════════════════════════════════════

1. Откройте Assets/Prefabs/Character.prefab
2. Add Component → Collision Avoidance
3. Apply All

4. Откройте Assets/Prefabs/Enamy.prefab
5. Add Component → Collision Avoidance
6. Apply All

═══════════════════════════════════════════════════════════════
📋 ШАГ 2: НАСТРОЙКА
═══════════════════════════════════════════════════════════════

Collision Avoidance → Inspector:

┌─────────────────────────────────────────────────────────────┐
│ Collision Avoidance (Script)                                │
├─────────────────────────────────────────────────────────────┤
│ ▼ Настройки избегания                                       │
│   Avoidance Radius: 50                                      │
│     ↑ Радиус в котором замечаем других                     │
│                                                             │
│   Avoidance Force: 100                                      │
│     ↑ Сила отталкивания                                    │
│                                                             │
│   Personal Space: 30                                        │
│     ↑ Минимальная дистанция (ближе = сильнее толкает)     │
│                                                             │
│   Avoid Only Allies: ✓                                      │
│     ↑ Отталкиваться только от союзников (той же команды)  │
│                                                             │
│ ▼ Настройки                                                 │
│   Show Debug: ☐                                             │
└─────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════
💡 КАК ЭТО РАБОТАЕТ
═══════════════════════════════════════════════════════════════

1. Каждый кадр система ищет персонажей в радиусе
2. Если кто-то слишком близко (< Personal Space):
   → Вычисляется сила отталкивания
   → Персонаж сдвигается в сторону
3. Чем ближе союзник, тем сильнее отталкивание
4. Враги НЕ отталкивают (могут стоять рядом для боя)

═══════════════════════════════════════════════════════════════
🔧 НАСТРОЙКА ДЛЯ РАЗНЫХ СЛУЧАЕВ
═══════════════════════════════════════════════════════════════

Для маленькой сетки:
  Avoidance Radius: 30
  Personal Space: 20
  Avoidance Force: 50

Для большой сетки:
  Avoidance Radius: 100
  Personal Space: 50
  Avoidance Force: 150

Агрессивное избегание (не лезут друг на друга):
  Avoidance Force: 200
  Personal Space: 40

Мягкое избегание (могут немного наслаиваться):
  Avoidance Force: 50
  Personal Space: 20

═══════════════════════════════════════════════════════════════
✅ ПРЕИМУЩЕСТВА
═══════════════════════════════════════════════════════════════

✅ Не требует NavMesh
✅ Не требует A* pathfinding
✅ Очень простая реализация
✅ Низкая нагрузка на производительность
✅ Работает для UI элементов
✅ Естественное поведение (персонажи "обтекают" друг друга)

═══════════════════════════════════════════════════════════════
🎮 РЕЗУЛЬТАТ
═══════════════════════════════════════════════════════════════

До:
  Персонажи идут к врагу → накладываются друг на друга
  👤👤 (стоят в одной точке)

После:
  Персонажи идут к врагу → расходятся в стороны
  👤  👤 (формируют полукруг вокруг врага)

═══════════════════════════════════════════════════════════════
🐛 ЧАСТЫЕ ПРОБЛЕМЫ
═══════════════════════════════════════════════════════════════

ПРОБЛЕМА: Персонажи слишком сильно расталкиваются
РЕШЕНИЕ: Уменьшите Avoidance Force (50-100)

ПРОБЛЕМА: Всё равно наслаиваются
РЕШЕНИЕ: 
  - Увеличьте Personal Space (40-50)
  - Увеличьте Avoidance Force (150-200)

ПРОБЛЕМА: Персонажи дрожат на месте
РЕШЕНИЕ: Уменьшите Avoidance Force или увеличьте Avoidance Radius

ПРОБЛЕМА: Враги отталкивают героев
РЕШЕНИЕ: Avoid Only Allies: ✓ (включить)

═══════════════════════════════════════════════════════════════
💡 ДОПОЛНИТЕЛЬНЫЕ УЛУЧШЕНИЯ
═══════════════════════════════════════════════════════════════

1. ФОРМИРОВАНИЕ СТРОЯ:
   Союзники автоматически выстраиваются в линию

2. ОЧЕРЕДЬ К ВРАГУ:
   Только 1-2 персонажа атакуют, остальные ждут

3. ФЛАНГОВЫЕ АТАКИ:
   Персонажи обходят врага с боков

Все эти фичи можно добавить на основе CollisionAvoidance!

═══════════════════════════════════════════════════════════════
✅ ГОТОВО!
═══════════════════════════════════════════════════════════════

Просто добавьте компонент Collision Avoidance на префабы
и персонажи перестанут заходить друг на друга! 🎯

═══════════════════════════════════════════════════════════════

